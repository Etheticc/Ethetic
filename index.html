<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eth</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #ffffff;
        }

        .dashboard {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .header {
            width: 100%;
            background-color: #1e1e1e;
            padding: 20px;
            text-align: center;
            font-size: 1.5em;
            color: #00aaff;
        }

        .upload-container {
            margin: 20px;
            padding: 20px;
            background: #1e1e1e;
            border: 2px dashed #00aaff;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
        }

        .upload-container:hover {
            background-color: #292929;
        }

        .gallery {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }

        .gallery-item {
            background-color: #1e1e1e;
            margin: 10px;
            padding: 10px;
            border-radius: 8px;
        }

        .gallery-item a {
            color: #00aaff;
            text-decoration: none;
        }

        .gallery-item a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

<div class="dashboard">
    <div class="header">Eth</div>

    <div class="upload-container" id="uploadButton">
        Drag and drop a video file or click to upload
    </div>

    <div class="gallery" id="gallery">
        <h2>Gallery</h2>
    </div>
</div>

<script>
    const uploadButton = document.getElementById('uploadButton');
    const gallery = document.getElementById('gallery');

    // Load saved videos from localStorage
    function loadGallery() {
        const savedVideos = JSON.parse(localStorage.getItem('videos')) || [];
        savedVideos.forEach(video => {
            const galleryItem = document.createElement('div');
            galleryItem.classList.add('gallery-item');

            galleryItem.innerHTML = `
                <h3>${video.title}</h3>
                <video src="${video.url}" controls width="100%"></video>
                <p>Link: <a href="${video.link}" target="_blank">${video.link}</a></p>
            `;

            gallery.appendChild(galleryItem);
        });
    }

    function generateLink() {
        const randomId = Math.random().toString(36).substring(2, 10);
        return `https://ethetic.cc/${randomId}`;
    }

    function handleFileUpload(file) {
        const link = generateLink();
        const title = prompt('Enter a title for the video:');
        const videoUrl = URL.createObjectURL(file); // Temporary URL for preview

        const videoData = {
            title: title || 'Untitled',
            url: videoUrl,
            link: link
        };

        // Save video data to localStorage
        const savedVideos = JSON.parse(localStorage.getItem('videos')) || [];
        savedVideos.push(videoData);
        localStorage.setItem('videos', JSON.stringify(savedVideos));

        const galleryItem = document.createElement('div');
        galleryItem.classList.add('gallery-item');

        galleryItem.innerHTML = `
            <h3>${videoData.title}</h3>
            <video src="${videoData.url}" controls width="100%"></video>
            <p>Link: <a href="${videoData.link}" target="_blank">${videoData.link}</a></p>
        `;

        gallery.appendChild(galleryItem);
    }

    uploadButton.addEventListener('click', () => {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = 'video/*';
        input.onchange = (event) => {
            const file = event.target.files[0];
            if (file) {
                handleFileUpload(file);
            }
        };
        input.click();
    });

    uploadButton.addEventListener('dragover', (event) => {
        event.preventDefault();
        uploadButton.style.backgroundColor = '#292929';
    });

    uploadButton.addEventListener('dragleave', () => {
        uploadButton.style.backgroundColor = '#1e1e1e';
    });

    uploadButton.addEventListener('drop', (event) => {
        event.preventDefault();
        uploadButton.style.backgroundColor = '#1e1e1e';
        const file = event.dataTransfer.files[0];
        if (file) {
            handleFileUpload(file);
        }
    });

    // Load gallery on page load
    window.onload = loadGallery;
</script>

</body>
</html>
